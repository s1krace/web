<!DOCTYPE html>
<html lang="en" data-theme="1">
<!-- force deploy -->
<!-- force deploy -->
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-77VL7HJBW8"></script>
    <script src="https://www.googletagmanager.com/gtag/js?id=G-77VL7HJBW8" async></script>
    <script src="main.js" defer></script>
    <script type="module" src="ascii-init.js"></script>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Racecar.cc</title>
    <meta name="description" content="Racecar.cc">
    
    <link rel="stylesheet" href="pcv.css">

    <meta property="og:title" content="Racecar.cc">
    <meta property="og:description" content="The world of racecar.cc">
    <meta property="og:image" content="https://p.cv/pcv.png">
    <meta property="og:url" content="https://p.cv">
    <meta name="twitter:card" content="summary_large_image">
    <meta property="og:site_name" content="racecar.cc">
    <meta name="twitter:site" content="@s1krace">
    
    <link rel="icon" type="image/png" href="favicon.png">
    <link rel="apple-touch-icon" href="favicon.png">

    <script src="social-links.js" defer></script>
</head>

<body id="body-container" class="">

    <div class="outer-container">
        <div class="inner-container">
            <div class="content-container">

                <div class="content-row"><p>Racecar.cc</p></div>
                <div class="content-row content-row-empty"></div>
                
                <div class="content-row">
                    <p><span>RACECAR</span> <span>FREAKY</span></p>
                </div>
                <div class="content-row">
                    <p><span class="mobile-text">Pro paster</span></p>
                </div>
                <div class="content-row content-row-empty"></div>

                <!-- Editable Links -->
                <div class="content-row">
                    <a href="#" data-social="telegram">Telegram</a>
                </div>

                <div class="content-row">
                    <a href="#" data-social="discord">Discord</a>
                </div>

                <div class="content-row">
                    <a href="#" data-social="twitter">Twitter</a>
                </div>

                <div class="content-row">
                    <a href="#" data-social="special">nul</a>
                </div>

                <div class="content-row content-row-empty"></div>

                <!-- Email -->
                <div class="content-row">
                    <button id="email-copy" class="no-mobile content-copy" tabindex="1">
                        <span class="button-label">Email</span>
                    </button>
                    <button id="email-link" class="mobile-only content-copy" tabindex="1">
                        <span class="button-label">Email</span>
                        <span class="mobile-only">[+]</span>
                    </button>
                </div>

                <div class="content-row content-row-empty"></div>

                <!-- Theme Toggle -->
                <div class="content-row content-row-bottom">
                    <button id="theme-toggle" class="content-switch" tabindex="1">
                        <span class="button-label no-mobile">Theme</span>
                        <span class="mobile-only">[‚¨è]</span>
                    </button>
                </div>

            </div>

            <div id="ascii" class="ascii-container">
                <pre data-selection-enabled="false"></pre>
                <div id="ascii-hint" class="ascii-hint">[&nbsp;]</div>
            </div>

            <div id="ascii-click" class="ascii-click-container"></div>
        </div>
    </div>
    
    <script>
        var themeToggle = document.getElementById("theme-toggle");
        var emailCopy = document.getElementById("email-copy");
        var emailLink = document.getElementById("email-link");

        var storedTheme = localStorage.getItem('theme') || (window.matchMedia("(prefers-color-scheme: dark)").matches ? "dark" : "light");

        if (storedTheme) {
            if (storedTheme == "dark") {
                document.documentElement.setAttribute('data-theme', "6");
            } else if (storedTheme == "light") {
                document.documentElement.setAttribute('data-theme', "2");
            } else {
                document.documentElement.setAttribute('data-theme', storedTheme);
            }
        }

        themeToggle.onclick = function () {
            var currentTheme = document.documentElement.getAttribute("data-theme");
            var targetTheme = "6";

            if (currentTheme === "1") { targetTheme = "2"; }
            else if (currentTheme === "2") { targetTheme = "3"; }
            else if (currentTheme === "3") { targetTheme = "4"; }
            else if (currentTheme === "4") { targetTheme = "5"; }
            else if (currentTheme === "5") { targetTheme = "6"; }
            else if (currentTheme === "6") { targetTheme = "7"; }
            else { targetTheme = "1"; };

            document.documentElement.setAttribute('data-theme', targetTheme);
            localStorage.setItem('theme', targetTheme);
        }

        emailCopy.onmouseenter = function () {
            document.querySelector(":root").style.setProperty("--copy-text", `" [+]"`);
        }
        emailCopy.onfocus = function () {
            document.querySelector(":root").style.setProperty("--copy-text", `" [+]"`);
        }
        emailCopy.onclick = function () {
            navigator.clipboard.writeText('scoobywoojew@proton.me');
            document.querySelector(":root").style.setProperty("--copy-text", `" [COPIED]"`);
        }

        emailLink.onclick = function () {
            window.location.href = "mailto:scoobywoojew@proton.me";
        }

        // Palindrome effect for title
        let title = "Racecar.cc";
        let palindrome = title + " | " + title.split('').reverse().join('');
        let i = 0;
        let direction = 1; // 1 for typing, -1 for deleting

        setInterval(function() {
            if (direction === 1) {
                document.title = palindrome.substring(0, i) + "|";
                i++;
                if (i === palindrome.length + 1) {
                    direction = -1;
                }
            } else {
                document.title = palindrome.substring(0, i) + "|";
                i--;
                if (i === 0) {
                    direction = 1;
                }
            }
        }, 150); // Adjust speed by changing this value
    </script>

    <script type="module">
        import { run } from '/src/run.js'
        import * as program from '/ascii.js'
        run(program, { element: document.querySelector('pre') }).then(function (e) {
            console.log(e)
        }).catch(function (e) {
            console.warn(e.message)
            console.log(e.error)
        })
    </script>
</body>

</html>
